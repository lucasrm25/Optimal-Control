% -------------------------------------------------------------------------
% Model Predictive Control example
%
% Programmed by:
%   Lucas Rath
%   Julius Hiller
%
% -------------------------------------------------------------------------

clear all; close all; clc;



%%

% -------------------------------------------------------------------------
% Analyse discrete-time system
% -------------------------------------------------------------------------


% xk+1 = A*xk + B*uk
A = [1 2; -1 3];
B = [0;1];
x0 = [0.3; -0.25];

% determine equilibrium of unforced system (xk = A xk)
null(eye(2)-A)

% check if system is stable
eig(A)
abs(eig(A))




% -------------------------------------------------------------------------
% Formulate MPC problem
% -------------------------------------------------------------------------

N = 2;
Q = eye(2);
R = 1.5;
K = [-0.91,2.85];
P = [10.65 16.02
     16.02 67.01];
c = min(eig(P))\norm(K)^2;


% Pf = dare(A,B,Q,R);


% -------------------------------------------------------------------------
% 
% -------------------------------------------------------------------------





% -------------------------------------------------------------------------
% 
% -------------------------------------------------------------------------






% -------------------------------------------------------------------------
% 
% -------------------------------------------------------------------------






% -------------------------------------------------------------------------
% 
% -------------------------------------------------------------------------





% -------------------------------------------------------------------------
% 
% -------------------------------------------------------------------------
